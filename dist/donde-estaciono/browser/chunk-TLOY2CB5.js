import{b as S,c as I,d as k,e as F,h as w,i as T,j as B,l as D,n as N}from"./chunk-W3WYI4A3.js";import{Cb as E,Db as M,Eb as O,Fb as P,Ha as f,La as _,Pa as s,Va as l,Wa as i,Xa as n,Ya as m,Za as x,_a as v,ab as u,bb as p,cb as b,eb as r,fb as g,gb as C,lb as y,mb as h,za as o}from"./chunk-BZENM65P.js";function z(t,a){t&1&&(i(0,"small",14),r(1," Este campo es obligatorio. "),n())}function R(t,a){t&1&&(i(0,"div",18),r(1,"Buscando eventos\u2026"),n())}function V(t,a){if(t&1&&(i(0,"h3"),r(1),n()),t&2){let e=p(3);o(),C("Resultados (",e.results.length,")")}}function $(t,a){t&1&&(i(0,"p"),r(1,"No encontramos eventos con esos filtros."),n())}function Q(t,a){if(t&1&&m(0,"div",28),t&2){let e=p().$implicit;b("background-image","url("+e.banner+")")}}function H(t,a){if(t&1&&(i(0,"article",22),s(1,Q,1,2,"div",23),i(2,"div",24)(3,"h4",25),r(4),n(),i(5,"p",26)(6,"span"),r(7),n(),r(8," \u2022 "),i(9,"span"),r(10),n(),r(11," \u2022 "),i(12,"span"),r(13),y(14,"date"),n()(),i(15,"button",27),r(16,"Ver estacionamientos"),n()()()),t&2){let e=a.$implicit;o(),l("ngIf",e.banner),o(3),g(e.name),o(3),g(e.city),o(3),g(e.venue),o(3),g(h(14,5,e.date,"longDate"))}}function J(t,a){if(t&1&&(i(0,"div",20),s(1,H,17,8,"article",21),n()),t&2){let e=p(3);o(),l("ngForOf",e.results)("ngForTrackBy",e.trackById)}}function K(t,a){if(t&1&&(x(0),s(1,V,2,1,"h3",17)(2,$,2,0,"p",17)(3,J,2,2,"div",19),v()),t&2){let e=p(2);o(),l("ngIf",e.results.length),o(),l("ngIf",!e.results.length),o(),l("ngIf",e.results.length)}}function U(t,a){if(t&1&&(i(0,"div",15),s(1,R,2,0,"div",16)(2,K,4,3,"ng-container",17),n()),t&2){let e=p();o(),l("ngIf",e.loading),o(),l("ngIf",!e.loading)}}var W=[{id:"1",name:"Coldplay",city:"Buenos Aires",venue:"River Plate",date:"2025-11-05",banner:"/assets/event-1.jpg"},{id:"2",name:"Feria del Libro",city:"Buenos Aires",venue:"La Rural",date:"2025-05-12",banner:"/assets/event-2.jpg"},{id:"3",name:"Arctic Monkeys",city:"C\xF3rdoba",venue:"Orfeo",date:"2025-09-20",banner:"/assets/event-3.jpg"}],q=class t{constructor(a){this.fb=a;this.form=this.fb.group({query:["",I.required],city:[""],date:[""]})}form;submitted=!1;loading=!1;results=[];get queryCtrl(){return this.form.get("query")}submit(){if(this.submitted=!0,this.form.invalid)return;this.loading=!0;let a=(this.form.value.query||"").toLowerCase().trim(),e=(this.form.value.city||"").toLowerCase().trim(),c=this.form.value.date?new Date(this.form.value.date):null;setTimeout(()=>{this.results=W.filter(d=>{let L=new Date(d.date),j=!a||d.name.toLowerCase().includes(a)||d.venue.toLowerCase().includes(a),A=!e||d.city.toLowerCase().includes(e)||d.venue.toLowerCase().includes(e),G=!c||L.toDateString()===c.toDateString();return j&&A&&G}),this.loading=!1},400)}clear(){this.form.reset(),this.results=[],this.submitted=!1}trackById=(a,e)=>e.id;static \u0275fac=function(e){return new(e||t)(f(D))};static \u0275cmp=_({type:t,selectors:[["app-event-search"]],decls:22,vars:4,consts:[[1,"search-form",3,"ngSubmit","formGroup"],[1,"title"],[1,"field"],["for","query"],["id","query","type","text","placeholder","Ej: Coldplay, Feria del Libro\u2026","formControlName","query"],["class","error",4,"ngIf"],["for","city"],["id","city","type","text","placeholder","Ej: Buenos Aires, Movistar Arena\u2026","formControlName","city"],["for","date"],["id","date","type","date","formControlName","date"],[1,"actions"],["type","submit",3,"disabled"],["type","button",1,"ghost",3,"click"],["class","results",4,"ngIf"],[1,"error"],[1,"results"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],["class","cards",4,"ngIf"],[1,"cards"],["class","card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card"],["class","banner",3,"backgroundImage",4,"ngIf"],[1,"body"],[1,"name"],[1,"meta"],[1,"primary"],[1,"banner"]],template:function(e,c){e&1&&(i(0,"form",0),u("ngSubmit",function(){return c.submit()}),i(1,"h2",1),r(2,"Buscar estacionamiento para tu evento"),n(),i(3,"div",2)(4,"label",3),r(5,"Evento o artista *"),n(),m(6,"input",4),s(7,z,2,0,"small",5),n(),i(8,"div",2)(9,"label",6),r(10,"Ciudad o venue"),n(),m(11,"input",7),n(),i(12,"div",2)(13,"label",8),r(14,"Fecha"),n(),m(15,"input",9),n(),i(16,"div",10)(17,"button",11),r(18,"Buscar"),n(),i(19,"button",12),u("click",function(){return c.clear()}),r(20,"Limpiar"),n()()(),s(21,U,3,2,"div",13)),e&2&&(l("formGroup",c.form),o(7),l("ngIf",c.submitted&&c.queryCtrl.hasError("required")),o(10),l("disabled",c.form.invalid||c.loading),o(4),l("ngIf",c.submitted))},dependencies:[P,E,M,N,w,S,k,F,T,B,O],styles:["[_nghost-%COMP%]{display:block;min-height:100dvh;background:radial-gradient(1200px 600px at 100% -10%,rgba(59,130,246,.25),transparent 50%),radial-gradient(1000px 500px at -10% 0%,rgba(14,165,233,.2),transparent 50%),#0b1020;color:#e8f0fe}.wrap[_ngcontent-%COMP%]{max-width:1080px;margin:0 auto;padding:48px 20px 64px}.hero[_ngcontent-%COMP%]{text-align:center;margin-bottom:28px}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:34px;line-height:1.1;margin:0 0 8px;letter-spacing:-.02em}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.85}.card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0f;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:18px;box-shadow:0 10px 30px #00000059;margin:0 auto 18px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 220px 180px;gap:12px}@media (max-width: 860px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.field[_ngcontent-%COMP%]{display:grid;gap:6px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:10px 12px;color:#e8f0fe;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f699}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}.btn[_ngcontent-%COMP%]{border:0;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:600}.btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9,#3b82f6);color:#fff}.btn.secondary[_ngcontent-%COMP%]{background:#ffffff14;color:#e8f0fe}.results-title[_ngcontent-%COMP%]{font-size:18px;margin:18px 4px;opacity:.9}.results[_ngcontent-%COMP%]{display:grid;gap:12px}.result[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:14px}.result[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px}.result[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.95}.result[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:999px;background:#3b82f640;border:1px solid rgba(59,130,246,.35);margin-right:6px}.result[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{opacity:.5;margin:0 6px}.result[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;opacity:.75}.empty[_ngcontent-%COMP%]{opacity:.8;text-align:center;padding:24px 0}"]})};export{q as EventSearchComponent};
